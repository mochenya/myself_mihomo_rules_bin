# ========================
# 1. åŸºç¡€ç›‘å¬ä¸é€šç”¨è®¾ç½®
# ========================
mixed-port: 7890
allow-lan: false
bind-address: "*"
ipv6: false
unified-delay: true
tcp-concurrent: true
log-level: info
global-client-fingerprint: chrome
keep-alive-idle: 600
keep-alive-interval: 15
profile:
  store-selected: true # å­˜å‚¨ä¸Šæ¬¡é€‰æ‹©çš„èŠ‚ç‚¹
  store-fake-ip: true # æŒä¹…åŒ– Fake-IP æ˜ å°„

# ========================
# 2. å¤–éƒ¨æ§åˆ¶ä¸é¢æ¿è®¾ç½®
# ========================
external-controller: 0.0.0.0:9090
secret: ""
external-ui: ui
external-ui-name: xd
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

# ========================
# 3. GeoIP/GeoSite æ•°æ®åº“é…ç½®
# ========================
# geodata-loader: memconservative
# geo-auto-update: true
# geo-update-interval: 24
# geox-url:
#   geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"
#   geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
#   mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"
#   asn: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb"

# ========================
# 4. TUN æ¨¡å¼è®¾ç½® (è™šæ‹Ÿç½‘å¡)
# ========================
tun:
  enable: true
  device: utunMihomo
  stack: mixed
  dns-hijack: ["any:53", "tcp://any:53"]
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

# ========================
# 5. NTP æ—¶é—´åŒæ­¥
# ========================
ntp:
  enable: true
  write-to-system: true
  server: ntp1.aliyun.com
  port: 123
  interval: 30

# ========================
# 6. ä»£ç†é›†åˆ (æœºåœºè®¢é˜…æ¥æº)
# ========================
proxy-providers:
  Airport:
    url: ""
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    # exclude-filter: "(?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®"
    # override:
    #   additional-prefix: "âœˆï¸ |"

# ========================
# 7. DNS è§£æè®¾ç½® (é˜²æ±¡æŸ“æ ¸å¿ƒ)
# ========================
dns:
  enable: true
  listen: "0.0.0.0:1053"
  ipv6: false
  prefer-h3: false
  respect-rules: true
  use-system-hosts: false
  cache-algorithm: arc
  enhanced-mode: fake-ip # å¢å¼ºæ¨¡å¼: Fake-IP
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter: # Fake-IP è¿‡æ»¤åˆ—è¡¨ (ç›´æ¥è¿”å›çœŸå®IPçš„åŸŸå)
    - "RULE-SET:fake_ip_filter_text"
  default-nameserver: # å¼•å¯¼ DNS (ç”¨äºè§£æ DoH åŸŸå)
    - 223.5.5.5
    - 8.8.4.4
  nameserver: # é»˜è®¤ DNS (é€šå¸¸ç”¨äºéå›½å†…åŸŸå)
    - https://8.8.4.4/dns-query
    - https://208.67.222.222/dns-query
    - https://77.88.8.8/dns-query
    - https://1.1.1.1/dns-query
  proxy-server-nameserver: # ä»£ç†èŠ‚ç‚¹æœ¬èº«çš„åŸŸåè§£æ DNS
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
  direct-nameserver: # ç›´è¿ DNS (ç”¨äºå›½å†…åŸŸå)
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
  nameserver-policy: # æŒ‡å®šåŸŸåèµ°ç‰¹å®š DNS
    "RULE-SET:cn_domain":
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query
    "RULE-SET:geolocation-!cn_domain":
      - https://8.8.4.4/dns-query
      - https://208.67.222.222/dns-query
      - https://77.88.8.8/dns-query
      - https://1.1.1.1/dns-query

# ========================
# 8. é”šç‚¹é…ç½® (é…ç½®æ¨¡æ¿ï¼Œä¾›ä¸‹æ–¹å¼•ç”¨)
# ========================
group-base: &group-base
  interval: 300
  timeout: 3000
  url: "https://www.gstatic.com/generate_204"
  max-failed-times: 3
  # hidden: true

region-base: &region-base
  type: url-test
  use:
    - Airport
  tolerance: 50
  # hidden: true

# ========================
# 9. ç­–ç•¥ç»„é…ç½® (å†³å®šæµé‡èµ°å‘)
# ========================
proxy-groups:
  # --- æ ¸å¿ƒä¸»ç­–ç•¥ ---
  - name: Proxy
    type: select
    <<: *group-base
    proxies:
      - AUTO
      - "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK"
      - "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW"
      - "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP"
      - "ğŸ‡°ğŸ‡· | éŸ©å›½ KR"
      - "ğŸ‡ºğŸ‡¸ | ç¾å›½ US"
      - "ğŸ‡©ğŸ‡ª | å¾·å›½ DE"
      - "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG"
      - "ğŸ‡«ğŸ‡· | æ³•å›½ FR"
      - "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK"
      - DIRECT
      - REJECT
    include-all: true
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png

  - name: AUTO
    type: url-test
    <<: *group-base
    use: [Airport]
    tolerance: 50
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Speedtest.png

  # --- åº”ç”¨ç­–ç•¥ç»„ (é’ˆå¯¹ç‰¹å®šAPPåˆ†æµ) ---
  # - name: YouTube
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png

  # - name: Google
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png

  # - name: OpenAI
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ChatGPT.png

  # - name: Claude
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/ke1ewang/Qi@master/Claude.png

  # - name: Telegram
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png

  # - name: Twitter
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Twitter.png

  # - name: Spotify
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       DIRECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png

  # - name: OneDrive
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       DIRECT,
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/OneDrive.png

  # - name: Microsoft
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       DIRECT,
  #       Proxy,
  #       REJECT,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png

  # - name: Apple
  #   type: select
  #   <<: *group-base
  #   proxies:
  #     [
  #       DIRECT,
  #       Proxy,
  #       "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK",
  #       "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW",
  #       "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP",
  #       "ğŸ‡°ğŸ‡· | éŸ©å›½ KR",
  #       "ğŸ‡ºğŸ‡¸ | ç¾å›½ US",
  #       "ğŸ‡©ğŸ‡ª | å¾·å›½ DE",
  #       "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG",
  #       "ğŸ‡«ğŸ‡· | æ³•å›½ FR",
  #       "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK",
  #       REJECT,
  #     ]
  #   include-all: true
  #   icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png

  # --- åœ°åŒºåˆ†ç»„ (è‡ªåŠ¨ç­›é€‰å¯¹åº”åœ°åŒºèŠ‚ç‚¹) ---
  - name: "ğŸ‡­ğŸ‡° | é¦™æ¸¯ HK"
    <<: *region-base
    filter: "é¦™æ¸¯|HK|ğŸ‡­ğŸ‡°"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png

  - name: "ğŸ‡¹ğŸ‡¼ | å°æ¹¾ TW"
    <<: *region-base
    filter: "å°æ¹¾|TW|ğŸ‡¹ğŸ‡¼"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png

  - name: "ğŸ‡¯ğŸ‡µ | æ—¥æœ¬ JP"
    <<: *region-base
    filter: "æ—¥æœ¬|JP|ğŸ‡¯ğŸ‡µ"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png

  - name: "ğŸ‡°ğŸ‡· | éŸ©å›½ KR"
    <<: *region-base
    filter: "éŸ©å›½|KR|ğŸ‡°ğŸ‡·"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png

  - name: "ğŸ‡ºğŸ‡¸ | ç¾å›½ US"
    <<: *region-base
    filter: "ç¾å›½|US|ğŸ‡ºğŸ‡¸"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png

  - name: "ğŸ‡©ğŸ‡ª | å¾·å›½ DE"
    <<: *region-base
    filter: "å¾·å›½|DE|ğŸ‡©ğŸ‡ª"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Germany.png

  - name: "ğŸ‡¸ğŸ‡¬ | æ–°åŠ å¡ SG"
    <<: *region-base
    filter: "æ–°åŠ å¡|SG|ğŸ‡¸ğŸ‡¬"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png

  - name: "ğŸ‡«ğŸ‡· | æ³•å›½ FR"
    <<: *region-base
    filter: "æ³•å›½|FR|ğŸ‡«ğŸ‡·"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/France.png

  - name: "ğŸ‡¬ğŸ‡§ | è‹±å›½ UK"
    <<: *region-base
    filter: "è‹±å›½|GB|ğŸ‡¬ğŸ‡§"
    exclude-filter: "Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®"
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png

  # --- æ¼ç½‘ä¹‹é±¼ä¸æ‹¦æˆªåˆ†ç»„ ---
  - name: GlobalDirect
    type: select
    proxies: [DIRECT, Proxy]
    include-all: true
    <<: *group-base
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/link.svg

  - name: GlobalBlock
    type: select
    proxies: [REJECT, DIRECT]
    <<: *group-base
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/block.svg

# ========================
# 10. å¤–éƒ¨è§„åˆ™æä¾›è€… (Rule Set)
# ========================
rule-anchor:
  ip_mrs: &ip_mrs { type: http, interval: 86400, behavior: ipcidr, format: mrs }
  domain_mrs:
    &domain_mrs { type: http, interval: 86400, behavior: domain, format: mrs }
  domain_text:
    &domain_text { type: http, interval: 86400, behavior: domain, format: text }
  class_yaml:
    &class_yaml {
      type: http,
      interval: 86400,
      behavior: classical,
      format: yaml,
    }

rule-providers:
  applications:
    <<: *class_yaml
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt
    path: "./ruleset/loyalsoldier/applications.yaml"

  private_domain:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"
    path: "./ruleset/meta-rules-dat/geosite/private.mrs"

  fake_ip_filter_text:
    <<: *domain_text
    url: "https://raw.githubusercontent.com/juewuy/ShellCrash/refs/heads/dev/public/fake_ip_filter.list"
    path: "./ruleset/meta-rules-dat/list/fake_ip_filter.list"

  private_ip:
    <<: *ip_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs"
    path: "./ruleset/meta-rules-dat/geoip/private.mrs"

  cn_domain:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"
    path: "./ruleset/meta-rules-dat/geosite/cn.mrs"

  cn_ip:
    <<: *ip_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"
    path: "./ruleset/meta-rules-dat/geoip/cn.mrs"

  geolocation-!cn_domain:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"
    path: "./ruleset/meta-rules-dat/geosite/geolocation-!cn.mrs"

  tld-cn_domain:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tld-cn.mrs"
    path: "./ruleset/meta-rules-dat/geosite/tld-cn.mrs"

  xiaomi-ads_domain:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/xiaomi-ads.mrs"
    path: "./ruleset/meta-rules-dat/geosite/xiaomi-ads.mrs"

  google-ads_domain:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google-ads.mrs"
    path: "./ruleset/meta-rules-dat/geosite/google-ads.mrs"

  telegram_ip:
    <<: *ip_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"
    path: "./ruleset/meta-rules-dat/geoip/telegram.mrs"
  
  # Google
  google:
    <<: *domain_mrs
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"
    path: "./ruleset/meta-rules-dat/geosite/google.mrs"

# ========================
# 11. è·¯ç”±è§„åˆ™ (ä»ä¸Šåˆ°ä¸‹åŒ¹é…)
# ========================
rules:
  # æœ¬åœ°ç»•è¡Œ
  - RULE-SET,fake_ip_filter_text,GlobalDirect
  - RULE-SET,private_ip,GlobalDirect,no-resolve
  - RULE-SET,private_domain,GlobalDirect
  - RULE-SET,applications,GlobalDirect

  # å¹¿å‘Šæ‹¦æˆª
  # - RULE-SET,xiaomi-ads_domain,GlobalBlock
  # - RULE-SET,google-ads_domain,GlobalBlock

  # Google
  - RULE-SET,google,Proxy

  # åœ°åŒºåˆ†æµä¸å…œåº•
  - RULE-SET,geolocation-!cn_domain,Proxy
  - RULE-SET,tld-cn_domain,GlobalDirect
  - RULE-SET,cn_domain,GlobalDirect

  # æœ€ç»ˆ IP è§„åˆ™ (é˜²æ­¢ DNS æ³„éœ²æˆ–è¯¯åˆ¤)
  - RULE-SET,telegram_ip,Proxy,no-resolve
  - RULE-SET,cn_ip,GlobalDirect,no-resolve
  - MATCH,Proxy
